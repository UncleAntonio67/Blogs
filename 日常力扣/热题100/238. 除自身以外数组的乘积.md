ğŸ·ä¸­ç­‰ #æ•°ç»„ #å‰ç¼€å’Œ 

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`ï¼Œè¿”å› æ•°ç»„Â `answer`Â ï¼Œå…¶ä¸­Â `answer[i]`Â ç­‰äºÂ `nums`Â ä¸­é™¤Â `nums[i]`Â ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯Â ã€‚

é¢˜ç›®æ•°æ®Â **ä¿è¯**Â æ•°ç»„Â `nums`ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨Â Â **32 ä½**Â æ•´æ•°èŒƒå›´å†…ã€‚

è¯·Â **ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œ**ä¸”åœ¨Â `O(n)`Â æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚

**ç¤ºä¾‹ 1:**

>**è¾“å…¥:** `nums = [1,2,3,4]`
>**è¾“å‡º:** `[24,12,8,6]`

**ç¤ºä¾‹ 2:**

>**è¾“å…¥:** `nums = [-1,1,0,-3,3]`
>**è¾“å‡º:** `[0,0,9,0,0]`

**æç¤ºï¼š**

- `2 <= nums.length <= 105`
- `-30 <= nums[i] <= 30`
- è¾“å…¥Â **ä¿è¯**Â æ•°ç»„Â `answer[i]`Â åœ¨Â Â **32 ä½**Â æ•´æ•°èŒƒå›´å†…

**è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨Â `O(1)`Â çš„é¢å¤–ç©ºé—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸ªé¢˜ç›®å—ï¼Ÿï¼ˆ å‡ºäºå¯¹ç©ºé—´å¤æ‚åº¦åˆ†æçš„ç›®çš„ï¼Œè¾“å‡ºæ•°ç»„Â ä¸è¢«è§†ä¸º**Â é¢å¤–ç©ºé—´ã€‚ï¼‰

# è§£é¢˜æ€è·¯ä¸å®ç°

- é™¤æ³•æœ€ç®€å•ï¼Œä½†æ˜¯è¦å¤„ç†å­˜åœ¨0çš„æƒ…å†µ
- å¦‚æœçŸ¥é“äº†Â iÂ å·¦è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼Œä»¥åŠÂ iÂ å³è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼Œå°±å¯ä»¥ç®—å‡ºÂ answer[i]ã€‚

|**ç‰¹æ€§**|**æ–¹æ³•ä¸€ï¼šé™¤æ³• (Division Method)**|**æ–¹æ³•äºŒï¼šå‰ç¼€åç¼€ç§¯ (Prefix & Suffix Products)**|
|---|---|---|
|**æ ¸å¿ƒæ€è·¯**|è®¡ç®—æ•´ä¸ªæ•°ç»„çš„æ€»ä¹˜ç§¯ï¼Œç„¶åç”¨é™¤æ³•å¾—å‡ºæ¯ä¸ªä½ç½®çš„ç»“æœã€‚|å°†ç»“æœæ‹†åˆ†æˆ**å·¦è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯**å’Œ**å³è¾¹æ‰€æœ‰æ•°çš„ä¹˜ç§¯**ï¼Œç„¶åç›¸ä¹˜ã€‚|
|**æ˜¯å¦ä½¿ç”¨é™¤æ³•**|**æ˜¯**|**å¦** (ç¬¦åˆæ ‡å‡†é¢˜ç›®çš„è¦æ±‚)|
|**æ—¶é—´å¤æ‚åº¦**|$O(n)$|$O(n)$|
|**ç©ºé—´å¤æ‚åº¦**|$O(1)$ æˆ– $O(n)$|$O(n)$ (å­˜å‚¨ `pre` å’Œ `suf` æ•°ç»„)|
|**é›¶å€¼å¤„ç†**|éœ€è¦å¤æ‚çš„é€»è¾‘æ¥å¤„ç†ä¸€ä¸ªé›¶æˆ–å¤šä¸ªé›¶çš„æƒ…å†µã€‚|**åŸç”Ÿæ”¯æŒ**ï¼Œé›¶å€¼è‡ªç„¶åœ°è¢«çº³å…¥ä¹˜ç§¯è®¡ç®—ã€‚|


## æ–¹æ³•ä¸€ï¼šé™¤æ³•

```python
class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        result = [0] * len(nums)
        pro = 1
        tmp = 1
        count = 0
        for i in range(len(nums)):
            pro = pro * nums[i]
        if pro != 0:
            for i in range(len(nums)):
                result[i] = int(pro / nums[i])
        else:
            for i in range(len(nums)):
                if(nums[i] != 0):
                    tmp = tmp * nums[i]
                else:
                    pos = i
                    count += 1
            if(count == 1):
                result[pos] = tmp
        return result
```

## æ–¹æ³•äºŒï¼šå‰ç¼€åç¼€

```python
class Solution:
Â  Â  def productExceptSelf(self, nums: List[int]) -> List[int]:
Â  Â  Â  Â  n = len(nums)
Â  Â  Â  Â  pre = [1] * n
Â  Â  Â  Â  suf = [1] * n
Â  Â  Â  Â  for i in range(1,n):
Â  Â  Â  Â  Â  Â  pre[i] = pre[i-1] * nums[i-1]
Â  Â  Â  Â  for i in range(n-2,-1,-1):
Â  Â  Â  Â  Â  Â  suf[i] = suf[i+1] * nums[i+1]
Â  Â  Â  Â  return [p*s for p, s in zip(pre, suf)]
```