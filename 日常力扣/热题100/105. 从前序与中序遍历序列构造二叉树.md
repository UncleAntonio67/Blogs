ğŸ·ä¸­ç­‰ #æ ‘ #æ•°ç»„ #å“ˆå¸Œè¡¨ #åˆ†æ²» #äºŒå‰æ ‘ 

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„Â `preorder`Â å’ŒÂ `inorder`Â ï¼Œå…¶ä¸­Â `preorder`Â æ˜¯äºŒå‰æ ‘çš„**å…ˆåºéå†**ï¼ŒÂ `inorder`Â æ˜¯åŒä¸€æ£µæ ‘çš„**ä¸­åºéå†**ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 1:**
![[file-20260104164121318.jpg | 200]]


>è¾“å…¥: `preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]
>è¾“å‡º: `[3,9,20,null,null,15,7]`

ç¤ºä¾‹ 2:

>è¾“å…¥: `preorder = [-1], inorder = [-1]`
>è¾“å‡º: `[-1]`

**æç¤º:**

- `1 <= preorder.length <= 3000`
- `inorder.length == preorder.length`
- `-3000 <= preorder[i], inorder[i] <= 3000`
- `preorder`Â å’ŒÂ `inorder`Â å‡Â **æ— é‡å¤**Â å…ƒç´ 
- `inorder`Â å‡å‡ºç°åœ¨Â `preorder`
- `preorder`Â **ä¿è¯**Â ä¸ºäºŒå‰æ ‘çš„å‰åºéå†åºåˆ—
- `inorder`Â **ä¿è¯**Â ä¸ºäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—

# è§£é¢˜æ€è·¯ä¸å®ç°

- å…ˆåºéå†é¡ºåºï¼š`[ æ ¹èŠ‚ç‚¹ | å·¦å­æ ‘ | å³å­æ ‘ ]`
- ä¸­åºéå†é¡ºåºï¼š`[ å·¦å­æ ‘ | æ ¹èŠ‚ç‚¹ | å³å­æ ‘ ]`

|**ç»´åº¦**|**åˆ‡ç‰‡é€’å½’æ³• (ä½ çš„åŸå§‹ä»£ç )**|**å“ˆå¸Œè¡¨ + æŒ‡é’ˆä¼˜åŒ– (æ¨èåšæ³•)**|
|---|---|---|
|**æ ¸å¿ƒæŸ¥æ‰¾æ–¹å¼**|ä½¿ç”¨ `inorder.index()` çº¿æ€§æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ä½ç½®ã€‚|ä½¿ç”¨ **å“ˆå¸Œè¡¨** $O(1)$ æŸ¥æ‰¾æ ¹èŠ‚ç‚¹ä½ç½®ã€‚|
|**å­æ ‘ä¼ é€’æ–¹å¼**|ä½¿ç”¨ **List åˆ‡ç‰‡**ï¼ˆå¦‚ `preorder[1:mid+1]`ï¼‰ä¼ é€’å­æ•°ç»„ã€‚|ä½¿ç”¨ **ä¸‹æ ‡æŒ‡é’ˆ**ï¼ˆleft, rightï¼‰æŒ‡å®šèŒƒå›´ã€‚|
|**æ—¶é—´å¤æ‚åº¦**|**$O(N^2)$**ï¼šæ¯æ¬¡é€’å½’éƒ½æœ‰ $O(N)$ çš„æŸ¥æ‰¾å’Œ $O(N)$ çš„åˆ‡ç‰‡ã€‚|**$O(N)$**ï¼šå»ºç«‹å“ˆå¸Œè¡¨ $O(N)$ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¤„ç†ä¸€æ¬¡ $O(1)$ã€‚|
|**ç©ºé—´å¤æ‚åº¦**|**$O(N^2)$**ï¼šæ¯å±‚é€’å½’äº§ç”Ÿçš„åˆ‡ç‰‡å‰¯æœ¬ä¼šç´¯åŠ ã€‚|**$O(N)$**ï¼šå“ˆå¸Œè¡¨å­˜å‚¨ $N$ ä¸ªç´¢å¼•ï¼Œé€’å½’æ ˆæœ€é«˜ $O(N)$ã€‚|
|**æ‰§è¡Œæ•ˆç‡**|è¾ƒä½ã€‚åœ¨å¤§è§„æ¨¡æ•°æ®ä¸‹å®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºæˆ–è¶…æ—¶ã€‚|æé«˜ã€‚æ˜¯è¯¥ç®—æ³•çš„å·¥ä¸šçº§æ ‡å‡†å®ç°ã€‚|

## æ–¹æ³•ä¸€ï¼šé€’å½’

```python
class Solution:
    def buildTree(self, preorder: List[int], inorder: List[int]) -> Optional[TreeNode]:
        if not preorder or not inorder:
            return None
        root_val = preorder[0]
        root = TreeNode(root_val)

        mid = inorder.index(root_val)

        root.left = self.buildTree(preorder[1:mid+1],inorder[:mid])
        root.right = self.buildTree(preorder[mid+1:],inorder[mid+1:])
        return root
```