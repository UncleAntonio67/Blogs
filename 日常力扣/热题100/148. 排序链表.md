ğŸ·ä¸­ç­‰ #é“¾è¡¨ #åŒæŒ‡é’ˆ #åˆ†æ²» #æ’åº #å½’å¹¶æ’åº

ç»™ä½ é“¾è¡¨çš„å¤´ç»“ç‚¹Â `head`Â ï¼Œè¯·å°†å…¶æŒ‰Â **å‡åº**Â æ’åˆ—å¹¶è¿”å›Â **æ’åºåçš„é“¾è¡¨**Â ã€‚

**ç¤ºä¾‹ 1ï¼š**

![|300](https://assets.leetcode.com/uploads/2020/09/14/sort_list_1.jpg)

>è¾“å…¥ï¼š`head = [4,2,1,3]`
>è¾“å‡ºï¼š`[1,2,3,4]`

**ç¤ºä¾‹ 2ï¼š**

![|300](https://assets.leetcode.com/uploads/2020/09/14/sort_list_2.jpg)

>è¾“å…¥ï¼š`head = [-1,5,3,4,0]`
>è¾“å‡ºï¼š`[-1,0,3,4,5]`

ç¤ºä¾‹ 3ï¼š

>è¾“å…¥ï¼š`head = []`
>è¾“å‡ºï¼š`[]`

**æç¤ºï¼š**

- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´Â `[0, 5 * 104]`Â å†…
- `-105Â <= Node.val <= 105`

**è¿›é˜¶ï¼šä½ å¯ä»¥åœ¨Â `O(nÂ logÂ n)`Â æ—¶é—´å¤æ‚åº¦å’Œå¸¸æ•°çº§ç©ºé—´å¤æ‚åº¦ä¸‹ï¼Œå¯¹é“¾è¡¨è¿›è¡Œæ’åºå—ï¼Ÿ


## è§£é¢˜æ€è·¯

- å½’å¹¶æ’åºï¼šæ‰¾ä¸­é—´ç‚¹ï¼Œåˆ†åˆ«é€’å½’ã€åˆå¹¶

| **ç»´åº¦**    | **è¯¦ç»†åˆ†æ**                                                         |
| --------- | ---------------------------------------------------------------- |
| **æ ¸å¿ƒæ€è·¯**  | ä½¿ç”¨ **å¿«æ…¢æŒ‡é’ˆ** å¯»æ‰¾é“¾è¡¨ä¸­ç‚¹ï¼Œå°†é“¾è¡¨æ–­å¼€ã€‚é€’å½’åœ°å¯¹å·¦å³ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºï¼Œæœ€åè°ƒç”¨ `merge` å‡½æ•°å°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ã€‚ |
| **æ‰§è¡Œæ•ˆæœ**  | é€»è¾‘å®Œå…¨æ­£ç¡®ï¼Œå¤„ç†äº†è¾¹ç•Œæƒ…å†µï¼ˆç©ºèŠ‚ç‚¹æˆ–å•èŠ‚ç‚¹ï¼‰ã€‚                                         |
| **æ—¶é—´å¤æ‚åº¦** | $O(n \log n)$ï¼šå½’å¹¶æ’åºçš„å…¸å‹æ—¶é—´å¤æ‚åº¦ã€‚                                      |
| **ç©ºé—´å¤æ‚åº¦** | **$O(\log n)$**ï¼šç”±äºä½¿ç”¨äº†é€’å½’ï¼Œé€’å½’è°ƒç”¨æ ˆæ·±åº¦ä¸º $\log n$ã€‚                       |
## æ–¹æ³•ä¸€ï¼šå½’å¹¶æ’åºğŸŒŸ

```python
class Solution:
    def sortList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        if not head or not head.next:
            return head
        slow, fast = head, head.next
        while fast and fast.next:
            slow = slow.next
            fast = fast.next.next
        mid = slow.next
        slow.next = None
        
        left = self.sortList(head)
        right = self.sortList(mid)
        return self.merge(left,right)
    def merge(self,l1,l2):
        dummy = p = ListNode(0)
        while l1 and l2:
            if l1.val < l2.val:
                p.next, l1 = l1,l1.next
            else:
                p.next,l2 = l2,l2.next
            p = p.next
        p.next = l1 or l2
        return dummy.next
```