ğŸ·ä¸­ç­‰ #æ•°ç»„ #äºŒåˆ†æŸ¥æ‰¾ 

ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„Â `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼Â `target`ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼Â `target`ï¼Œè¿”å›Â `[-1, -1]`ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸ºÂ `O(log n)`Â çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

ç¤ºä¾‹ 1ï¼š

>è¾“å…¥ï¼š`nums = [5,7,7,8,8,10], target = 8`
>è¾“å‡ºï¼š`[3,4]`

ç¤ºä¾‹ 2ï¼š

>è¾“å…¥ï¼š`nums = [5,7,7,8,8,10], target = 6`
>è¾“å‡ºï¼š`[-1,-1]`

ç¤ºä¾‹ 3ï¼š

>è¾“å…¥ï¼š`nums = [], target = 0`
>è¾“å‡ºï¼š`[-1,-1]`

**æç¤ºï¼š**

- `0 <= nums.length <= 105`
- `-109Â <= nums[i]Â <= 109`
- `nums`Â æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„
- `-109Â <= targetÂ <= 109`


# è§£é¢˜æ€è·¯ä¸å®ç°

**â‘  æ‰¾å·¦è¾¹ç•Œï¼ˆç¬¬ä¸€æ¬¡äºŒåˆ†ï¼‰**
å¦‚æœ `nums[mid] >= target`ï¼Œè¯´æ˜å·¦è¾¹å¯èƒ½è¿˜æœ‰ç›®æ ‡ â†’ `right = mid - 1`ã€‚
 **â‘¡ æ‰¾å³è¾¹ç•Œï¼ˆç¬¬äºŒæ¬¡äºŒåˆ†ï¼‰**
å¦‚æœ `nums[mid] <= target`ï¼Œè¯´æ˜å³è¾¹å¯èƒ½è¿˜æœ‰ç›®æ ‡ â†’ `left = mid + 1`ã€‚

| **ç»´åº¦**    | **åˆ†æå†…å®¹**                                                                                                                                                                                          |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **æ ¸å¿ƒæ€è·¯**  | **äºŒåˆ†æŸ¥æ‰¾å˜ä½“ (Find Bound)**ã€‚<br>1. **æŸ¥æ‰¾å·¦è¾¹ç•Œ**ï¼šå½“ `nums[mid] == target` æ—¶ï¼Œä¸ç«‹å³åœæ­¢ï¼Œè€Œæ˜¯ç»§ç»­åœ¨å·¦åŠéƒ¨åˆ† `[left, mid-1]` æœç´¢ï¼Œä»¥é”å®šæœ€å·¦ä¾§çš„ä½ç½®ã€‚<br>2. **æŸ¥æ‰¾å³è¾¹ç•Œ**ï¼šå½“ `nums[mid] == target` æ—¶ï¼Œç»§ç»­åœ¨å³åŠéƒ¨åˆ† `[mid+1, right]` æœç´¢ï¼Œä»¥é”å®šæœ€å³ä¾§çš„ä½ç½®ã€‚ |
| **å…³é”®å˜é‡**  | `pos`ï¼šç”¨äºè®°å½•æœ€è¿‘ä¸€æ¬¡æ‰¾åˆ° `target` çš„ä½ç½®ã€‚è¿™ç§æ–¹å¼æ¯”ç›´æ¥æ ¹æ® `left` è¿”å›æ›´ä¸å®¹æ˜“å‡ºé”™ã€‚                                                                                                                                          |
| **æ—¶é—´å¤æ‚åº¦** | $O(\log N)$<br>æ‰§è¡Œäº†ä¸¤æ¬¡å®Œæ•´çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œå¤æ‚åº¦ä¾ç„¶æ˜¯å¯¹æ•°çº§ã€‚                                                                                                                                                            |
| **ç©ºé—´å¤æ‚åº¦** | $O(1)$<br>åªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„å˜é‡ã€‚                                                                                                                                                                            |

## æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        if not nums:
            return [-1,-1]
        def find_left():
            left, right = 0, len(nums)-1
            pos = -1
            while left <= right:
                mid = (left+right) // 2
                if nums[mid] >= target:
                    right = mid - 1
                else:
                    left = mid + 1
                if nums[mid] == target:
                    pos = mid
            return pos
        def find_right():
            left, right = 0, len(nums)-1
            pos = -1
            while left <= right:
                mid = (left+right) // 2
                if nums[mid] <= target:
                    left = mid + 1
                else:
                    right = mid - 1
                if nums[mid] == target:
                    pos = mid
            return pos
        l = find_left()
        if l == -1:
            return [-1,-1]
        r = find_right()
        return(l,r)
```