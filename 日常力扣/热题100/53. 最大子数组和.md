ğŸ·ä¸­ç­‰ #æ•°ç»„ #åˆ†æ²» #åŠ¨æ€è§„åˆ’ 

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`Â ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚

**å­æ•°ç»„**æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚

ç¤ºä¾‹ 1ï¼š

>è¾“å…¥ï¼š`nums = [-2,1,-3,4,-1,2,1,-5,4]`
>è¾“å‡ºï¼š`6`
>è§£é‡Šï¼š`è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚`

ç¤ºä¾‹ 2ï¼š

>è¾“å…¥ï¼š`nums = [1]`
>è¾“å‡ºï¼š`1`

ç¤ºä¾‹ 3ï¼š

>è¾“å…¥ï¼š`nums = [5,4,-1,7,8]`
>è¾“å‡ºï¼š`23`


**æç¤ºï¼š**

- `1 <= nums.length <= 105`
- `-104 <= nums[i] <= 104`

**è¿›é˜¶ï¼šå¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸ºÂ `O(n)`Â çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„Â **åˆ†æ²»æ³•**Â æ±‚è§£ã€‚

# è§£é¢˜æ€è·¯ä¸å®ç°

- **æ–¹æ³•ä¸€**ï¼šå­æ•°ç»„çš„å…ƒç´ å’Œç­‰äºä¸¤ä¸ªå‰ç¼€å’Œçš„å·®ï¼Œæ‰€ä»¥æœ€å¤§å­æ•°ç»„çš„å’Œå…¶å®å°±æ˜¯ä¸æ–­éå†ï¼Œç”¨å½“å‰çš„å‰ç¼€å’Œ-å‰é¢æœ€å°çš„å‰ç¼€å’Œ
- **æ–¹æ³•äºŒ**ï¼šåŠ¨æ€è§„åˆ’ï¼š
	- nums[i] å•ç‹¬ç»„æˆä¸€ä¸ªå­æ•°ç»„ï¼Œé‚£ä¹ˆ f[i]=nums[i]ã€‚
	- nums[i] å’Œå‰é¢çš„å­æ•°ç»„æ‹¼èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åœ¨ä»¥ nums[iâˆ’1] ç»“å°¾çš„æœ€å¤§å­æ•°ç»„å’Œä¹‹åæ·»åŠ  nums[i]ï¼Œé‚£ä¹ˆ f[i]=f[iâˆ’1]+nums[i]ã€‚
	
	- **å®šä¹‰çŠ¶æ€:** `f[i]` åº”è¯¥è¡¨ç¤º**ä»¥ç¬¬ $i$ ä¸ªå…ƒç´  $\text{nums}[i]$ ç»“å°¾çš„æœ€å¤§è¿ç»­å­æ•°ç»„å’Œ**ã€‚
	- **çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼ˆé¢„æœŸï¼‰ï¼š** è¦è®¡ç®— $\text{f}[i]$ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š
    1. å¦‚æœ $\text{f}[i-1]$ æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆå°† $\text{nums}[i]$ åŠ å…¥åˆ°å‰ä¸€ä¸ªæœ€å¤§å­æ•°ç»„ä¸­ï¼š$\text{f}[i] = \text{f}[i-1] + \text{nums}[i]$ã€‚
    2. å¦‚æœ $\text{f}[i-1]$ æ˜¯è´Ÿæ•°ï¼ˆæˆ– 0ï¼‰ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªå­æ•°ç»„å¯¹å½“å‰å’Œæ˜¯è´Ÿè´¡çŒ®ï¼Œåº”è¯¥ä» $\text{nums}[i]$ é‡æ–°å¼€å§‹è®¡ç®—å­æ•°ç»„ï¼š$\text{f}[i] = \text{nums}[i]$ã€‚
    å› æ­¤ï¼Œæ­£ç¡®çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹åº”ä¸ºï¼š
    $$\text{f}[i] = \text{nums}[i] + \max(0, \text{f}[i-1])$$

| **ç‰¹æ€§**        | **åŸºäºå‰ç¼€å’Œçš„æ–¹æ³•**                                                                                       | **å¡ä¸¹ç®—æ³• (Kadane's Algorithm)**                                                              |
| ------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| **æ ¸å¿ƒæ€æƒ³**      | **å¯»æ‰¾æœ€å°å†å²å‰ç¼€å’Œ**ã€‚é€šè¿‡ $P[j] - \min(P[i-1])$ æ¥è®¡ç®—ä»¥ $j$ ç»“å°¾çš„æœ€å¤§å’Œã€‚                                            | **åŠ¨æ€è§„åˆ’ (DP)**ã€‚é€šè¿‡ $\max(x, \text{current\_max} + x)$ æ¥å†³å®šæ˜¯å¦ä»å½“å‰å…ƒç´ é‡æ–°å¼€å§‹ã€‚                        |
| **çŠ¶æ€/å˜é‡**     | 1. `pre_sum` (å½“å‰å‰ç¼€å’Œ)<br><br>  <br><br>2. `min_pre_sum` (å†å²æœ€å°å‰ç¼€å’Œ)<br><br>  <br><br>3. `ans` (å…¨å±€æœ€å¤§å’Œ) | 1. `current_max` (ä»¥å½“å‰å…ƒç´ ç»“å°¾çš„æœ€å¤§å’Œ)<br><br>  <br><br>2. `global_max` (å…¨å±€æœ€å¤§å’Œ)                    |
| **çŠ¶æ€è½¬ç§» (å…³é”®)** | $\text{MaxSumEndingAt}(j) = \text{pre\_sum} - \text{min\_pre\_sum}$                                | $\text{current\_max}[i] = \max(\text{nums}[i], \text{current\_max}[i-1] + \text{nums}[i])$ |
| **é€»è¾‘å¤æ‚åº¦**     | è¾ƒé«˜ã€‚éœ€è¦ç†è§£å‰ç¼€å’Œä¸å­æ•°ç»„å’Œä¹‹é—´çš„æ•°å­¦å…³ç³»ï¼Œå³æœ€å¤§å­æ•°ç»„å’Œ $=$ å½“å‰å‰ç¼€å’Œ $-$ æœ€å°å†å²å‰ç¼€å’Œã€‚                                              | è¾ƒä½ã€‚é€»è¾‘æ›´ç›´è§‚ï¼šå¦‚æœå½“å‰ç´¯åŠ å’Œå¯¹æˆ‘æœ‰ç›Šï¼ˆéè´Ÿï¼‰ï¼Œæˆ‘å°±ç»§ç»­ï¼›å¦åˆ™ï¼Œæˆ‘é‡æ–°å¼€å§‹ã€‚                                                    |
| **æ—¶é—´å¤æ‚åº¦**     | $O(n)$                                                                                             | $O(n)$                                                                                     |
| **ç©ºé—´å¤æ‚åº¦**     | $O(1)$ (ä»…ä½¿ç”¨å°‘é‡å˜é‡)                                                                                   | $O(1)$ (ä»…ä½¿ç”¨å°‘é‡å˜é‡)                                                                           |
| **é€‚ç”¨èŒƒå›´**      | é€‚ç”¨äºæ±‚è§£æœ€å¤§å­æ•°ç»„å’Œã€‚ä½†å‰ç¼€å’Œæ–¹æ³•ä¹Ÿå¸¸ç”¨äºè§£å†³â€œå­æ•°ç»„å’Œç­‰äº $K$â€æˆ–â€œå­æ•°ç»„å’Œåœ¨ $[L, R]$ èŒƒå›´å†…â€ç­‰é—®é¢˜ã€‚                                      | ä¸»è¦é’ˆå¯¹**æœ€å¤§å­æ•°ç»„å’Œ**é—®é¢˜ï¼Œæ˜¯å…¶æœ€ä¼˜è§£ã€‚                                                                    |


## æ–¹æ³•ä¸€ï¼šå‰ç¼€å’Œ+è´ªå¿ƒ

```python
class Solution:
Â  Â  def maxSubArray(self, nums: List[int]) -> int:
Â  Â  Â  Â  ans = -inf
Â  Â  Â  Â  min_pre_sum = pre_sum = 0
Â  Â  Â  Â  for x in nums:
Â  Â  Â  Â  Â  Â  pre_sum += x
Â  Â  Â  Â  Â  Â  ans = max(ans, pre_sum - min_pre_sum)
Â  Â  Â  Â  Â  Â  min_pre_sum = min(pre_sum,min_pre_sum)
Â  Â  Â  Â  return ans
```

## æ–¹æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ğŸŒŸ

```python
class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        if not nums:
            return 0
        n = len(nums)
        f = [0] * n
        f[0] = nums[0]
        for i in range(1,n):
            f[i] = nums[i] + max(0,f[i-1])
        return max(f)
```
