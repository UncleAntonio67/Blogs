ğŸ·å›°éš¾ #é€’å½’ #é“¾è¡¨ 

ç»™ä½ é“¾è¡¨çš„å¤´èŠ‚ç‚¹Â `head`Â ï¼Œæ¯Â `k`Â ä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œç¿»è½¬ï¼Œè¯·ä½ è¿”å›ä¿®æ”¹åçš„é“¾è¡¨ã€‚

`k`Â æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œå®ƒçš„å€¼å°äºæˆ–ç­‰äºé“¾è¡¨çš„é•¿åº¦ã€‚å¦‚æœèŠ‚ç‚¹æ€»æ•°ä¸æ˜¯Â `k`Â çš„æ•´æ•°å€ï¼Œé‚£ä¹ˆè¯·å°†æœ€åå‰©ä½™çš„èŠ‚ç‚¹ä¿æŒåŸæœ‰é¡ºåºã€‚

ä½ ä¸èƒ½åªæ˜¯å•çº¯çš„æ”¹å˜èŠ‚ç‚¹å†…éƒ¨çš„å€¼ï¼Œè€Œæ˜¯éœ€è¦å®é™…è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ã€‚

**ç¤ºä¾‹ 1ï¼š**

![ | 400](https://assets.leetcode.com/uploads/2020/10/03/reverse_ex1.jpg)

>**è¾“å…¥ï¼š`head = [1,2,3,4,5], k = 2`
>è¾“å‡ºï¼š`[2,1,4,3,5]`

**ç¤ºä¾‹ 2ï¼š**

![ | 400](https://assets.leetcode.com/uploads/2020/10/03/reverse_ex2.jpg)

>**è¾“å…¥ï¼š`head = [1,2,3,4,5], k = 3`
>è¾“å‡ºï¼š`[3,2,1,4,5]`

**æç¤ºï¼š**

- é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ•°ç›®ä¸ºÂ `n`
- `1 <= k <= n <= 5000`
- `0 <= Node.val <= 1000`

**è¿›é˜¶ï¼šä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªåªç”¨Â `O(1)`Â é¢å¤–å†…å­˜ç©ºé—´çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ


# è§£é¢˜æ€è·¯ä¸å®ç°

- **è®¡ç®—é“¾è¡¨é•¿åº¦**ï¼šæˆ‘ä»¬é¦–å…ˆé€šè¿‡éå†é“¾è¡¨è®¡ç®—å‡ºé“¾è¡¨çš„é•¿åº¦ `count`ï¼Œå¦‚æœé“¾è¡¨çš„é•¿åº¦å°äº `k`ï¼Œç›´æ¥è¿”å›åŸé“¾è¡¨ï¼Œå› ä¸ºæ— æ³•è¿›è¡Œåè½¬ã€‚
- **åè½¬ K ä¸ªèŠ‚ç‚¹**ï¼šå¦‚æœé•¿åº¦å¤§äºç­‰äº `k`ï¼Œæˆ‘ä»¬å¼€å§‹åè½¬å‰ `k` ä¸ªèŠ‚ç‚¹ã€‚é€šè¿‡éå†å¹¶åè½¬é“¾è¡¨çš„ `next` æŒ‡é’ˆã€‚
- **é€’å½’åè½¬**ï¼šåè½¬å®Œå‰ `k` ä¸ªèŠ‚ç‚¹åï¼Œæˆ‘ä»¬é€šè¿‡é€’å½’è°ƒç”¨ `reverseKGroup` æ¥å¤„ç†å‰©ä½™éƒ¨åˆ†çš„é“¾è¡¨ã€‚

| **ç»´åº¦**    | **å†…å®¹è¯´æ˜**                                                                                              |
| --------- | ----------------------------------------------------------------------------------------------------- |
| **æ ¸å¿ƒæ€è·¯**  | **é€’å½’åˆ†æ²»**ï¼š1. å…ˆéå†ç»Ÿè®¡é•¿åº¦ï¼Œä¸è¶³ $k$ ä¸ªç›´æ¥è¿”å›å¤´ç»“ç‚¹ï¼ˆè·³å‡ºé€’å½’ï¼‰ï¼›2. å¯¹å½“å‰ $k$ ä¸ªèŠ‚ç‚¹è¿›è¡Œå±€éƒ¨åè½¬ï¼›3. é€’å½’å¤„ç†åç»­é“¾è¡¨ï¼Œå¹¶å°†åè½¬åçš„å°¾éƒ¨ï¼ˆåŸ headï¼‰æŒ‡å‘é€’å½’è¿”å›çš„ç»“æœã€‚ |
| **ä»£ç å®ç°**  | `count` æ£€æŸ¥é•¿åº¦ï¼›`for _ in range(k)` å†…éƒ¨æ‰§è¡Œæ ‡å‡†çš„ä¸‰æŒ‡é’ˆç¿»è½¬é€»è¾‘ï¼›`head.next = self.reverseKGroup(curr, k)` å®ç°å„ç»„é—´çš„è¿æ¥ã€‚   |
| **æ—¶é—´å¤æ‚åº¦** | $O(n)$ï¼šæ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¢«è®¿é—®ä¸¤æ¬¡ï¼ˆä¸€æ¬¡è®¡æ•°ï¼Œä¸€æ¬¡ç¿»è½¬ï¼‰ã€‚                                                                        |
| **ç©ºé—´å¤æ‚åº¦** | $O(n/k)$ï¼šé€’å½’è°ƒç”¨çš„æ ˆæ·±åº¦ã€‚è™½ç„¶ä½ æ²¡æœ‰å¼€è¾Ÿé¢å¤–ç©ºé—´ï¼Œä½†é€’å½’æ ˆç©ºé—´åœ¨ Hard é¢˜é¢è¯•ä¸­å¸¸è¢«è¿½é—®å¦‚ä½•ä¼˜åŒ–è‡³ $O(1)$ã€‚                                      |

## æ–¹æ³•ä¸€ï¼šé€’å½’ğŸŒŸ

```python
class Solution:
Â  Â  def reverseKGroup(self, head: Optional[ListNode], k: int) -> Optional[ListNode]:
Â  Â  Â  Â  count = 0
Â  Â  Â  Â  current = head
Â  Â  Â  Â  while current:
Â  Â  Â  Â  Â  Â  count += 1
Â  Â  Â  Â  Â  Â  current = current.next
Â  Â  Â  Â  if count < k:
Â  Â  Â  Â  Â  Â  return head
Â  Â  Â  Â  prev, curr = None, head
Â  Â  Â  Â  for _ in range(k):
Â  Â  Â  Â  Â  Â  next_node = curr.next
Â  Â  Â  Â  Â  Â  curr.next = prev
Â  Â  Â  Â  Â  Â  prev = curr
Â  Â  Â  Â  Â  Â  curr = next_node
Â  Â  Â  Â  head.next = self.reverseKGroup(curr,k)
Â  Â  Â  Â  return prev
```