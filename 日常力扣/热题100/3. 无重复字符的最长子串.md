ğŸ·ä¸­ç­‰ #å“ˆå¸Œè¡¨ #å­—ç¬¦ä¸² #æ»‘åŠ¨çª—å£

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Â `s`Â ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„Â **æœ€é•¿Â å­ä¸²**Â çš„é•¿åº¦ã€‚

**ç¤ºä¾‹Â 1:**

>**è¾“å…¥:** `s = "abcabcbb"`
>**è¾“å‡º:** `3 
>**è§£é‡Š:** `å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ `"abc"`ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚æ³¨æ„ "bca" å’Œ "cab" ä¹Ÿæ˜¯æ­£ç¡®ç­”æ¡ˆã€‚`

**ç¤ºä¾‹ 2:**

>**è¾“å…¥:** `s = "bbbbb"`
>**è¾“å‡º:** `1`
>**è§£é‡Š:** `å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ `"b"`ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚`

**ç¤ºä¾‹ 3:**

>**è¾“å…¥:** `s = "pwwkew"`
>**è¾“å‡º:** `3`
>**è§£é‡Š:**` å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯Â `"wke"`ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ **å­ä¸²** çš„é•¿åº¦ï¼Œ`"pwke"`Â æ˜¯ä¸€ä¸ª_å­åºåˆ—ï¼Œ_ä¸æ˜¯å­ä¸²ã€‚`

**æç¤ºï¼š**

- `0 <= s.length <= 5 * 104`
- `s`Â ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

# è§£é¢˜æ€è·¯ä¸å®ç°

**æ–¹æ³•ä¸€ï¼š**
- **æ ¸å¿ƒæ€æƒ³ï¼š** **ä»¥ç©ºé—´æ¢æ—¶é—´ï¼Œä½†å®ç°ä½æ•ˆã€‚**
- **çª—å£ç»´æŠ¤æ–¹å¼ï¼š** ä¾èµ–äºå­—ç¬¦ä¸²çš„ **åˆ‡ç‰‡** å’Œ **çº¿æ€§æœç´¢** æ¥åˆ¤æ–­çª—å£å†…æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚
- **æŸ¥æ‰¾æˆæœ¬ï¼š** æ¯æ¬¡çª—å£æ‰©å±•ï¼ˆå³æŒ‡é’ˆ $j$ ç§»åŠ¨ï¼‰æ—¶ï¼Œåˆ¤æ–­ `s[j] not in s[i:j]` çš„æˆæœ¬ä¸º $O(L)$ï¼ˆ$L$ ä¸ºçª—å£é•¿åº¦ï¼‰ã€‚
- **å·¦æŒ‡é’ˆç§»åŠ¨ï¼š** å‘ç°é‡å¤æ—¶ï¼Œé€šè¿‡ `s[i:j].index(s[j])` å†æ¬¡è¿›è¡Œ $O(L)$ æœç´¢ï¼Œæ¥ç¡®å®šå·¦æŒ‡é’ˆ $i$ çš„æ–°ä½ç½®ã€‚
- **æ€»ç»“ï¼š** æ€æƒ³ä¸Šæ˜¯æ»‘åŠ¨çª—å£ï¼Œä½†åœ¨æ‰§è¡Œå±‚é¢ä¸Šï¼Œæ˜‚è´µçš„ $O(L)$ å†…éƒ¨æ“ä½œä½¿å¾—æ•´ä½“æ—¶é—´å¤æ‚åº¦é™ä¸º $O(n^2)$ã€‚

**æ–¹æ³•äºŒï¼š**
- **æ ¸å¿ƒæ€æƒ³ï¼š** **åˆ©ç”¨ $O(1)$ æŸ¥æ‰¾ï¼Œå®ç°å³æ—¶ã€ç²¾å‡†çš„çª—å£è°ƒæ•´ã€‚**
- **çª—å£ç»´æŠ¤æ–¹å¼ï¼š** ä½¿ç”¨ **å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ `seen`ï¼‰** å­˜å‚¨çª—å£å†…æ¯ä¸ªå­—ç¬¦çš„ **æœ€æ–°ç´¢å¼•**ã€‚
- **æŸ¥æ‰¾æˆæœ¬ï¼š** æ¯æ¬¡çª—å£æ‰©å±•æ—¶ï¼Œé€šè¿‡ `if ch in seen` è¿›è¡Œ $O(1)$ æŸ¥æ‰¾ï¼Œå¿«é€Ÿåˆ¤æ–­æ˜¯å¦å­˜åœ¨é‡å¤ã€‚
- **å·¦æŒ‡é’ˆç§»åŠ¨ï¼š**
    - å¦‚æœå‘ç°é‡å¤ï¼Œé€šè¿‡ $O(1)$ æŸ¥æ‰¾ `seen[ch]`ï¼Œç«‹å³è·å–é‡å¤å­—ç¬¦çš„æ—§ç´¢å¼•ã€‚
    - å·¦æŒ‡é’ˆ `left` ç›´æ¥è·³è·ƒåˆ° **`seen[ch] + 1`** çš„ä½ç½®ï¼Œç¡®ä¿çª—å£å†…æ— é‡å¤ã€‚
    - **å…³é”®ï¼š** æ— éœ€éå†ï¼Œæ— éœ€åˆ‡ç‰‡ï¼Œåªéœ€ä¸€æ­¥åˆ°ä½ã€‚


| **ç‰¹æ€§ç»´åº¦**   | æ»‘åŠ¨çª—å£æ³•                                                                          | å“ˆå¸Œè¡¨/å­—å…¸ğŸŒŸ                                                                                      |
| ---------- | ------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------- |
| **ä»£ç ç¤ºä¾‹**   | `if s[j] not in s[i:j]:`                                                       | `if ch in seen and seen[ch] >= left:`                                                         |
| **ç®—æ³•æ ¸å¿ƒæ€æƒ³** | **æš´åŠ›çª—å£**ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œä½†åœ¨çª—å£å†…é€šè¿‡æ˜‚è´µçš„ $O(n)$ å­—ç¬¦ä¸²æ“ä½œæ¥éªŒè¯é‡å¤æ€§ã€‚                                  | **æ™ºèƒ½çª—å£**ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œé€šè¿‡ $O(1)$ çš„å“ˆå¸Œè¡¨è®°å½•å­—ç¬¦æœ€æ–°ä½ç½®ï¼Œå®ç°ç²¾ç¡®ä¸”å¿«é€Ÿçš„çª—å£è°ƒæ•´ã€‚                                           |
| **æ—¶é—´å¤æ‚åº¦**  | **$O(n^2)$**                                                                   | **$O(n)$**                                                                                    |
| **ç©ºé—´å¤æ‚åº¦**  | **$O(1)$**ï¼ˆæŠ€æœ¯ä¸Šï¼‰                                                                | **$O(k)$**ï¼ˆ$k$ ä¸ºå­—ç¬¦é›†å¤§å°ï¼Œé€šå¸¸è§†ä¸º $O(1)$ï¼‰                                                            |
| **æ•ˆç‡ç“¶é¢ˆ**   | **å­—ç¬¦ä¸²åˆ‡ç‰‡ `s[i:j]`** å’Œ **çº¿æ€§æŸ¥æ‰¾ `in` / `index()`**ã€‚è¿™äº›æ“ä½œçš„æ—¶é—´æˆæœ¬ä¸çª—å£é•¿åº¦æˆæ­£æ¯”ï¼Œå¯¼è‡´æ•´ä½“å¤æ‚åº¦å‡è‡³äºŒæ¬¡æ–¹ã€‚ | **æ— æ˜æ˜¾ç“¶é¢ˆ**ã€‚æ‰€æœ‰æ“ä½œï¼ˆå“ˆå¸Œè¡¨è¯»/å†™ã€æŒ‡é’ˆç§»åŠ¨ï¼‰å‡ä¸º $O(1)$ï¼Œæ•ˆç‡æé«˜ã€‚                                                    |
| **æŒ‡é’ˆç§»åŠ¨**   | **é€»è¾‘æ­£ç¡®**ï¼šé€šè¿‡è®¡ç®— `s[i:j].index(s[j])`ï¼Œå°†å·¦æŒ‡é’ˆ `i` ç§»åŠ¨åˆ°é‡å¤å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚                     | **é€»è¾‘æ­£ç¡®ä¸”é«˜æ•ˆ**ï¼šé€šè¿‡ $O(1)$ æŸ¥æ‰¾ `seen[ch]`ï¼Œå°†å·¦æŒ‡é’ˆ `left` ç§»åŠ¨åˆ° $\max(\text{left}, \text{seen}[ch] + 1)$ã€‚ |
| **é€‚ç”¨æ€§**    | **ä¸é€‚ç”¨äº** å¤§è§„æ¨¡æ•°æ®æˆ–é¢è¯•/ç«èµ›ç¯å¢ƒã€‚                                                        | **é€‚ç”¨äº** æ‰€æœ‰åœºæ™¯ï¼Œæ˜¯è¯¥é—®é¢˜çš„æ ‡å‡†æœ€ä¼˜è§£ã€‚                                                                      |

## æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£æ³•

```python
class Solution:
Â  Â  def lengthOfLongestSubstring(self, s: str) -> int:
Â  Â  Â  Â  i = j = 0
Â  Â  Â  Â  res = 0
Â  Â  Â  Â  if len(s) <= 1:
Â  Â  Â  Â  Â  Â  return len(s)
Â  Â  Â  Â  while j < len(s) - 1:
Â  Â  Â  Â  Â  Â  j += 1
Â  Â  Â  Â  Â  Â  if s[j] not in s[i:j]:
Â  Â  Â  Â  Â  Â  Â  Â  if res < len(s[i:j+1]):
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  res = len(s[i:j+1])
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  if j - i - 1 == 0:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  i += 1
Â  Â  Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  i = s[0:j].rindex(s[j]) + 1
Â  Â  Â  Â  return max(1,res)
```


```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        i = j = 0
        res = 0
        while j < len(s):
            if s[j] not in s[i:j]:
                res = max(res, j - i + 1)
                j += 1
            else:
                # æ‰¾åˆ° s[j] åœ¨çª—å£ä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®
                dup_index = s[i:j].index(s[j])
                i = i + dup_index + 1
        return res
```


## æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£ + å“ˆå¸Œè¡¨ğŸŒŸ

```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        seen = {}
        left = 0 
        res = 0
        for right,ch in enumerate(s):
            if ch in seen and seen[ch] >= left:
                left = seen[ch] + 1
            seen[ch] = right
            res = max(res, right - left + 1)
        return res
```