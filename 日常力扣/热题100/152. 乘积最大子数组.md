ğŸ·ä¸­ç­‰ #æ•°ç»„ #åŠ¨æ€è§„åˆ’ 

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â `nums`Â ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„éç©ºè¿ç»­Â å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚

æµ‹è¯•ç”¨ä¾‹çš„ç­”æ¡ˆæ˜¯ä¸€ä¸ªÂ **32-ä½**Â æ•´æ•°ã€‚

**è¯·æ³¨æ„**ï¼Œä¸€ä¸ªåªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„çš„ä¹˜ç§¯æ˜¯è¿™ä¸ªå…ƒç´ çš„å€¼ã€‚

**ç¤ºä¾‹ 1:**

**è¾“å…¥:** nums = [2,3,-2,4]
**è¾“å‡º:** `6`
**è§£é‡Š:**Â å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚

**ç¤ºä¾‹ 2:**

**è¾“å…¥:** nums = [-2,0,-1]
**è¾“å‡º:** 0
**è§£é‡Š:**Â ç»“æœä¸èƒ½ä¸º 2, å› ä¸º [-2,-1] ä¸æ˜¯å­æ•°ç»„ã€‚

**æç¤º:**

- `1 <= nums.length <= 2 * 104`
- `-10 <= nums[i] <= 10`
- `nums`Â çš„ä»»ä½•å­æ•°ç»„çš„ä¹˜ç§¯éƒ½Â **ä¿è¯**Â æ˜¯ä¸€ä¸ªÂ **32-ä½**Â æ•´æ•°

## è§£é¢˜æ€è·¯

ç›¸ä¹˜é‡åˆ°è´Ÿæ•°ä¼šåè½¬å¤§å°ï¼Œæ‰€ä»¥å¿…é¡»åŒæ—¶ç»´æŠ¤â€œä»¥ i ç»“å°¾çš„æœ€å¤§ä¹˜ç§¯â€å’Œâ€œæœ€å°ä¹˜ç§¯â€ï¼Œå½“å‰çŠ¶æ€æ¥è‡ªï¼šè‡ªå·±å¼€æ–°æ®µã€å‰æœ€å¤§ Ã— å½“å‰ã€å‰æœ€å° Ã— å½“å‰ï¼Œä¸‰è€…å– min/maxã€‚
## æ–¹æ³•ä¸€ï¼š

```python
class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        n = len(nums)
        dp_max = nums[:]
        dp_min = nums[:]

        for i in range(1,n):
            x = nums[i]
            pre_max = dp_max[i-1]
            pre_min = dp_min[i-1]

            dp_max[i] = max(x, pre_max*x, pre_min*x)
            dp_min[i] = min(x, pre_max*x, pre_min*x)
        return max(dp_max)
```