ğŸ·ä¸­ç­‰ #å“ˆå¸Œè¡¨ #å­—ç¬¦ä¸² #æ»‘åŠ¨çª—å£ 

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Â `s`Â å’ŒÂ `p`ï¼Œæ‰¾åˆ°Â `s`Â ä¸­æ‰€æœ‰Â `p`Â çš„Â **å¼‚ä½è¯**Â çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**ç¤ºä¾‹Â 1:**

>**è¾“å…¥:** `s = "cbaebabacd", p = "abc"`
>**è¾“å‡º:** `[0,6]`
>**è§£é‡Š:**
>`èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚`
>`èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚`

Â **ç¤ºä¾‹ 2:**

>**è¾“å…¥:** `s = "abab", p = "ab"`
>**è¾“å‡º:** `[0,1,2]`
>**è§£é‡Š:**
>`èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚`
>`èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚`
>`èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚`

**æç¤º:**

- `1 <= s.length, p.length <= 3 * 104`
- `s`Â å’ŒÂ `p`Â ä»…åŒ…å«å°å†™å­—æ¯

# è§£é¢˜æ€è·¯ä¸å®ç°

- **æ–¹æ³•ä¸€**ï¼šæ»‘åŠ¨çª—å£ + é¢‘æ¬¡æ•°ç»„å­—ç¬¦ä¸²å¯¹æ¯”è½¬åŒ–ä¸ºå­—ç¬¦è®¡æ•°çš„å¯¹æ¯”ï¼Œ26ä¸ªå­—æ¯ï¼Œå¯¹sã€påˆ†åˆ«è®¡æ•°ï¼Œå¦‚æœä¸€æ ·å°±æ˜¯åŠ å…¥ç»“æœï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œåˆ™sçš„è®¡æ•°æ›´æ–°ï¼Œè¿›è¡Œæ¯”å¯¹ã€‚
	- **ç›®æ ‡ç»Ÿè®¡**ï¼šå…ˆç»Ÿè®¡ p çš„å­—æ¯é¢‘æ¬¡ã€‚
	- **çª—å£ç»´æŠ¤**ï¼šçª—å£å¤§å°å›ºå®šä¸º len(p)ã€‚
	- **æ»‘åŠ¨æ›´æ–°**ï¼šè¿›å…¥ä¸€ä¸ªå­—ç¬¦ã€ç§»å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œä¿æŒçª—å£é¢‘æ¬¡æ•°ç»„å®æ—¶æ›´æ–°ã€‚
	- **åˆ¤æ–­**ï¼šè‹¥çª—å£é¢‘æ¬¡ == ç›®æ ‡é¢‘æ¬¡ â†’ è®°å½•èµ·ç‚¹ã€‚
- **æ–¹æ³•äºŒ**ï¼šæš´åŠ›è§£æ³•ä¼šè¶…æ—¶

| **ç‰¹æ€§ç»´åº¦**  | **O(n) æ•°ç»„/åˆ—è¡¨ç‰ˆæœ¬ (æœ€ä¼˜è§£)**                             | **O(nâ‹…m) æš´åŠ› Counter ç‰ˆæœ¬**                                        |
| --------- | -------------------------------------------------- | --------------------------------------------------------------- |
| **ä»£ç å®ç°**  | `target = [0]*26`ï¼›**$O(1)$ å¢å‡**ï¼š`window[idx] += 1` | `cnt = Counter(p)`ï¼›**$O(m)$ é‡å»º**ï¼š`if Counter(s[i:i+m]) == cnt:` |
| **æ ¸å¿ƒæ€æƒ³**  | **$O(1)$ å¢é‡æ›´æ–°ï¼š** çª—å£åªå¤„ç†ç§»å…¥å’Œç§»å‡ºçš„å­—ç¬¦ï¼Œå®ç°äº† $O(1)$ çš„çª—å£çŠ¶æ€ç»´æŠ¤ã€‚ | **$O(m)$ æš´åŠ›é‡å»ºï¼š** æ¯æ¬¡æ»‘åŠ¨éƒ½åˆ‡ç‰‡å¹¶é‡æ–°åˆ›å»ºæ•´ä¸ªçª—å£çš„è®¡æ•°å™¨ã€‚                          |
| **æ—¶é—´å¤æ‚åº¦** | **$O(n)$**                                         | **$O(n \cdot m)$**                                              |
| **ç©ºé—´å¤æ‚åº¦** | **$O(1)$**                                         | **$O(k)$**ï¼ˆå­—ç¬¦é›†å¤§å°ï¼Œé€šå¸¸è§†ä¸º $O(1)$ï¼‰                                   |
| **æ•ˆç‡ç“¶é¢ˆ**  | **æ— **ã€‚æ‰€æœ‰æ“ä½œï¼ˆæ•°ç»„è¯»å†™ã€æ¯”è¾ƒï¼‰éƒ½æ˜¯å¸¸æ•°æ—¶é—´ã€‚                         | **å­—ç¬¦ä¸²åˆ‡ç‰‡ `s[i:i+m]`** å’Œ **`Counter(...)` é‡å»º**ã€‚è¿™ä¸¤æ­¥éƒ½æ˜¯ $O(m)$ã€‚      |
| **æ˜“è¯»æ€§**   | ç®€æ´ã€é«˜æ•ˆï¼Œä½†ä¾èµ–äº `ord(ch) - 97` çš„å­—ç¬¦é›†çŸ¥è¯†ã€‚                  | é€»è¾‘æ¸…æ™°ï¼Œä½†è®¡ç®—èµ„æºæµªè´¹ä¸¥é‡ã€‚                                                 |
| **æ¨èç¨‹åº¦**  | **â­â­â­â­â­ å¼ºçƒˆæ¨è** (æ ‡å‡†æœ€ä¼˜è§£)                             | **ä¸æ¨è** (æ•ˆç‡ä½ä¸‹)                                                  |

## æ–¹æ³•ä¸€ï¼šé›†åˆéå†ğŸŒŸ

```python
class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        res = []
        m,n = len(p), len(s)
        if n < m: return res
        target = [0] * 26
        window = [0] * 26
        for ch in p:
            target[ord(ch)-97] += 1
        for i in range(n):
            window[ord(s[i])-97] += 1
            if i >= m:
                window[ord(s[i-m])-97] -= 1
            if window == target:
                res.append(i-m+1)
        return res
```

```python
class Solution:
Â  Â  def findAnagrams(self, s: str, p: str) -> list[int]:
Â  Â  Â  Â  s_len,p_len = len(s), len(p)
Â  Â  Â  Â  if s_len < p_len:
Â  Â  Â  Â  Â  Â  return []
Â  Â  Â  Â  ans = []
Â  Â  Â  Â  s_count = [0]*26
Â  Â  Â  Â  p_count = [0]*26
Â  Â  Â  Â  for i in range(p_len):
Â  Â  Â  Â  Â  Â  s_count[ord(s[i])-97] += 1
Â  Â  Â  Â  Â  Â  p_count[ord(p[i])-97] += 1
Â  Â  Â  Â  if s_count == p_count:
Â  Â  Â  Â  Â  Â  ans.append(0)
Â  Â  Â  Â  for i in range(s_len - p_len):
Â  Â  Â  Â  Â  Â  s_count[ord(s[i])-97] -= 1
Â  Â  Â  Â  Â  Â  s_count[ord(s[i + p_len]) - 97] += 1
Â  Â  Â  Â  Â  Â  if s_count == p_count:
Â  Â  Â  Â  Â  Â  Â  Â  ans.append(i + 1)
Â  Â  Â  Â  return ans
```

## æ–¹æ³•äºŒï¼šæš´åŠ›æ³•

```python
class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        cnt = Counter(p)
        res = []
        n,m = len(s), len(p)
        for i in range(n-m+1):
            if Counter(s[i:i+m]) == cnt:
                res.append(i)
        return res
```

