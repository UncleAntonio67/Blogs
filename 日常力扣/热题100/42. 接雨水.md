ğŸ·å›°éš¾ #æ ˆ #åŒæŒ‡é’ˆ #åŠ¨æ€è§„åˆ’

ç»™å®šÂ `n`Â ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸ºÂ `1`Â çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png)

**è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 

**ç¤ºä¾‹ 2ï¼š**

**è¾“å…¥ï¼šheight = [4,2,0,3,2,5]
è¾“å‡ºï¼š9

**æç¤ºï¼š**

- `n == height.length`
- `1 <= n <= 2 * 104`
- `0 <= height[i] <= 105`


# è§£é¢˜æ€è·¯ä¸å®ç°

- å¯ä»¥æŠŠå®ƒçœ‹åšä¸¤ä¸ªå›¾å½¢ï¼Œä¸€ä¸ªæ˜¯æœ‰é¢œè‰²çš„å›¾å½¢ï¼Œä¸€ä¸ªåªæœ‰é»‘è‰²å›¾å½¢ï¼Œä¸¤ä¸ªå›¾å½¢åšå‡æ³•ï¼Œå°±æ˜¯è“è‰²åŒºåŸŸï¼Œå³é›¨æ°´çš„æ•°é‡ã€‚
- å…³é”®å°±åœ¨äºæœ‰é¢œè‰²çš„å›¾å½¢å¦‚ä½•æ±‚è§£ï¼Œå¯ä»¥çœ‹å‡ºä»å·¦åˆ°å³ã€ä»å³åˆ°å·¦ï¼Œåªè¦ä¿è¯å…ƒç´ é‡åˆ°æ¯”å®ƒå¤§çš„å…ƒç´ å‰ï¼Œå…¨éƒ¨ç½®ä¸ºä¹‹å‰çš„æœ€å°å…ƒç´ å³å¯ã€‚

## æ–¹æ³•ä¸€ï¼šæ‹†åˆ†æ³•

```python
import copy
class Solution:
Â  Â  def trap(self, height: list[int]) -> int:
Â  Â  Â  Â  length = len(height)
Â  Â  Â  Â  highest = max(height)
Â  Â  Â  Â  entire = copy.copy(height)
Â  Â  Â  Â  begin = end = 0
Â  Â  Â  Â  l_low = r_low = 0
Â  Â  Â  Â  for i in range(length):
Â  Â  Â  Â  Â  Â  if height[i] == highest:
Â  Â  Â  Â  Â  Â  Â  Â  begin = i
Â  Â  Â  Â  Â  Â  Â  Â  break
Â  Â  Â  Â  for i in range(length - 1, -1, -1):
Â  Â  Â  Â  Â  Â  if height[i] == highest:
Â  Â  Â  Â  Â  Â  Â  Â  end = i
Â  Â  Â  Â  Â  Â  Â  Â  break
Â  Â  Â  Â  for i in range(begin):
Â  Â  Â  Â  Â  Â  if entire[i] > l_low:
Â  Â  Â  Â  Â  Â  Â  Â  l_low = entire[i]
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  entire[i] = l_low
Â  Â  Â  Â  for i in range(length - 1, end, -1):
Â  Â  Â  Â  Â  Â  if entire[i] > r_low:
Â  Â  Â  Â  Â  Â  Â  Â  r_low = entire[i]
Â  Â  Â  Â  Â  Â  else:
Â  Â  Â  Â  Â  Â  Â  Â  entire[i] = r_low
Â  Â  Â  Â  res1 = [entire[i] - height[i] for i in range(length)]
Â  Â  Â  Â  res2 = [highest - height[i] for i in range(begin, end)]
Â  Â  Â  Â  return sum(res1) + sum(res2)
```