🏷简单 #位运算 #数组 

给你一个 **非空** 整数数组 `nums` ，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

你必须设计并实现线性时间复杂度的算法来解决此问题，且该算法只使用常量额外空间。

示例 1 ：
>输入：`nums = [2,2,1]`
>输出：`1`

示例 2 ：
>输入：`nums = [4,1,2,1,2]`
>输出：`4`

示例 3 ：
>输入：`nums = [1]`
>输出：`1`

**提示：**

- `1 <= nums.length <= 3 * 104`
- `-3 * 104 <= nums[i] <= 3 * 104`
- 除了某个元素只出现一次以外，其余每个元素均出现两次。


# 解题思路与实现

- a ^ a = 0    
- 0 ^ b = b
- 所以所有成对出现的数字异或后会抵消，剩下单独的数字

| **维度**    | **详细分析**                                                                                                                                                                                                                                                         |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **核心思路**  | **位运算 (异或 XOR)**。<br>利用异或运算的两个核心性质：<br>1. **归零律**：$a \oplus a = 0$ (两个相同的数异或等于 0)。<br>2. **恒等律**：$a \oplus 0 = a$ (任何数与 0 异或等于它自己)。<br>3. **交换律**：$a \oplus b \oplus a = (a \oplus a) \oplus b = 0 \oplus b = b$。<br>把数组里所有数字异或起来，成对的数字会互相抵消变成 0，最后剩下的就是那个落单的数字。 |
| **代码评价**  | 利用 Python 的 `res ^= num` 原地更新，没有使用任何额外空间（如哈希表），代码极其精炼。                                                                                                                                                                                                           |
| **时间复杂度** | **$O(N)$**。<br>遍历一次数组。                                                                                                                                                                                                                                           |
| **空间复杂度** | **$O(1)$**。<br>只用了一个变量 `res`。如果用哈希表做（虽然也能过），空间复杂度是 $O(N)$，面试官会给差评。                                                                                                                                                                                               |

## 方法一：

```python
class Solution:
    def singleNumber(self, nums: List[int]) -> int:
        res = 0
        for num in nums:
            res ^= num
        return res
```