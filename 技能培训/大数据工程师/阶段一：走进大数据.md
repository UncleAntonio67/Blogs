# 1.Linux虚拟机安装配置

VMware安装虚拟机（已创建好），步骤：
1. 创建单个虚拟机
2. 克隆多个虚拟机
3. 使用MobaXTerm、SecureCRT连接虚拟机
![[file-20260104231143776.png | 400]]

# 2.Linux极速上手

**vi：文件编辑**
- 编辑文件内容，按“i”进行（编辑模式）
- 查找字符串，输入“/”，然后回车，按“n”是下一个（命令模式）
- 快速修改内容，输入行号，输入“set nu”可以显示行号（命令模式）
- 复制一行，连按两次“y”，然后按“p“（命令模式）
- 快速删除几行，光标定位到这一行，连按两次”d“删一行，按3个9加”d“是后面的全部删除（命令行）
- 移动到第一行、最后一行，最后一行”G“，第一行”gg“
- 如果有误关操作，那就删除对应的临时文件

**wc：统计字数**
- wc -c/m/l 文件名

**sort：文件排序**
- sort -n（字符串数值） -r（逆序） -k 2（指定列）文件名

**uniq：检查重复的行列**
- uniq -c（次数） -u（不重复的） 文件名  `只能对连续的去重`

**head：获取前n条命令**
- head -3 文件名

**date：获取当前时间**
- date 格式化参数

**ps：显示进程信息**
- ps -ef 显示系统内的所有进程，配合grep常用

**netstat：显示端口信息**
- netstat -anp 显示全部端口

**jps：显示Java进程信息**
- 显示当前用户启动的java进程信息

**top：动态监控进程信息**
- 动态显示系统消耗资源最多的进程信息

**kill：杀掉进程**
- kill PID 自杀，kill -9 PID 它杀

**grep：查找**
- 查找文件理符合条件的字符串，支持正则

**sed：自动编辑一个或多个文件**
- ‘2a\haha’，第二行添加haha

**awk：处理文本，文本分析工具**
- awk -F: '{print $1}' 文件名

# 3.Linux配置与shell实战

**静态IP设置：**

- 编辑ens33文件
```shell
vi /etc/sysconfig/network-scripts/ifcfg-ens33
```
- 修改BOOTPROTO属性为static，增加静态IP配置信息
```config
IPADDR = 192.168.182.100
GATEWAY = 
DNS1 = 
```
- 重启网卡
```shell
service netword restart
```

**hostname设置：**

- 临时设置
```shell
hostname tmpname
```
- 永久设置
```shell
vi /etc/hostname
```

**防火墙关闭：**

- 临时关闭
```shell
systemctl  stop firewalld
```
- 永久关闭
```shell
systemctl disable firewalld
```
*不同版本关闭的命令有差别*

**shell编程**

shell脚本一般后缀为.sh
```shell
#!/bin/bash
#first command
echo hello world
```
执行方式：bash xxx.sh或者sh hello.sh

增加执行权限，即可直接执行；如果没有./，会执行失败，需要在path中增加"."路径
```shell
chmod u+x hello.sh
./hello.sh

#限制每一步执行的情况
bash -x hello.sh
```

shell变量不需要声明，赋值不需要加空格
```shell
name=zs
echo ${name}haha
```

变量可以分为四种：
- `var_name=name` 本地变量，一般是临时变量，就只在当前shell脚本中有效
- `export var_name=name` 环境变量，环境变量对子shell进程有效，如果需要永久，需要添加到/etc/profile，输入`soucre /etc/profile`
- `$0 $1` 位置变量，hello.sh abc bcd
- `$?` 特殊变量，上一条命令的返回状态码；`$#` shell脚本所有参数的个数

变量和引号的特殊使用：
- 单引号不解析变量
- 双引号解析变量
- 反引号解析变量，并且获取值

shell中的循环
```shell
#!/bin/bash
#for循环格式1
for((i=0;i<10;i++))
do
echo $i
done
#for循环格式2
for i in 1 2 3
do
echo $i
done
#while循环格式1
while test 2 -gt 1
do
echo $i
done
#while循环格式2
while [ 2 -gt 1]
do
echo $i
done
```

shell中的判断：
```shell
#!/bin/bash
if [ $# -lt 1 ]
then
	echo "not found"
	exit 100
fi
flag=$1
if [ $flag -eq 1 ]
then
	echo one
elif [ $flag -eq 2 ]
then
	echo two
else
	echo two
fi
```

*shell文件格式注意适配操作系统环境*

